"use strict";(self["webpackChunkfullstack_ecommerce_pojui"]=self["webpackChunkfullstack_ecommerce_pojui"]||[]).push([[183],{4948:function(e,t,a){a.d(t,{E:function(){return o},G:function(){return u}});var n=a(223),r=a(1601),s=a(1884);const i={apiKey:"AIzaSyBkib-KThmv3i0n0rTwttVF3N_x_PqSSJ8",authDomain:"shopping-cart-e9b59.firebaseapp.com",projectId:"shopping-cart-e9b59",storageBucket:"shopping-cart-e9b59.appspot.com",messagingSenderId:"1075157323072",appId:"1:1075157323072:web:de92a4f1dd14094287bea5",measurementId:"G-2XXG42731F"};let l;(0,n.Dk)().length?(l=(0,n.Dk)().find((e=>"firebase-backend"===e.name)),l||(l=(0,n.Wp)(i,"firebase-backend"))):l=(0,n.Wp)(i,"firebase-backend");const o=(0,r.xI)(l),u=(0,s.aU)(l)},6840:function(e,t,a){a.r(t),a.d(t,{default:function(){return x}});var n=a(641),r=a(9322),s=a(5518),i=a(4272),l=a(9311),o=a(2579),u=a(7027),d=a(4492),c=a(4261),p=a(1743),f=a(3091);const v=e=>((0,n.Qi)("data-v-01c06361"),e=e(),(0,n.jt)(),e),m={class:"login-bg"},b=v((()=>(0,n.Lk)("h1",{class:"title-backend-login"},"後臺管理",-1))),h=v((()=>(0,n.Lk)("h1",{class:"font-weight-bold"},"請先登入",-1))),y={class:"text-right"};function g(e,t,a,v,g,k){return(0,n.uX)(),(0,n.CE)("div",m,[b,(0,n.bF)(d.I,null,{default:(0,n.k6)((()=>[(0,n.bF)(c.L,{justify:"center"},{default:(0,n.k6)((()=>[(0,n.bF)(p.B,{cols:"12",md:"6"},{default:(0,n.k6)((()=>[(0,n.bF)(i.J,null,{default:(0,n.k6)((()=>[(0,n.bF)(l.r,null,{default:(0,n.k6)((()=>[h])),_:1}),(0,n.bF)(o.Z,null,{default:(0,n.k6)((()=>[(0,n.bF)(u.n,{onSubmit:t[2]||(t[2]=(0,r.D$)((e=>k.firebaseSignIn(g.user.username,g.user.password)),["prevent"])),modelValue:g.isValid,"onUpdate:modelValue":t[3]||(t[3]=e=>g.isValid=e),ref:"form"},{default:(0,n.k6)((()=>[(0,n.bF)(f.W,{class:"mb-1",modelValue:g.user.username,"onUpdate:modelValue":t[0]||(t[0]=e=>g.user.username=e),rules:[g.rules.required,g.rules.email],label:"Email",placeholder:"請輸入 Email",type:"email",required:"",autofocus:""},null,8,["modelValue","rules"]),(0,n.bF)(f.W,{modelValue:g.user.password,"onUpdate:modelValue":t[1]||(t[1]=e=>g.user.password=e),rules:[g.rules.required],label:"Password",placeholder:"請輸入密碼",type:"password",required:""},null,8,["modelValue","rules"]),(0,n.Lk)("div",y,[(0,n.bF)(s.D,{class:"mt-4 mb-4",color:"primary",disabled:!g.isValid,type:"submit",large:""},{default:(0,n.k6)((()=>[(0,n.eW)(" 登入 ")])),_:1},8,["disabled"])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])}var k=a(2541),F=a(4948),I=a(1601),C={data(){return{isValid:!1,user:{username:"",password:""},rules:{required:e=>!!e||"欄位必填",email:e=>/.+@.+\..+/.test(e)||"請輸入有效的 email"}}},components:{Toast:k.A},created(){const e=document.cookie.replace(/(?:(?:^|.*;\s*)customToken\s*=\s*([^;]*).*$)|^.*$/,"$1");if(e){const t="https://fullstack-ecommerce-pojui-backend-vercel.vercel.app/admin/check";this.$http.post(t,null,{headers:{Authorization:`Bearer ${e}`}}).then((e=>{e.data.success&&(k.A.fire({icon:"warning",title:"您已登入，請勿重複登入"}),this.$router.push("/dashboard/products"))})).catch((()=>{}))}},methods:{async firebaseSignIn(e,t){try{const a=await(0,I.x9)(F.E,e,t);if("customAttributes"in a.user.reloadUserInfo){const e=await a.user.getIdToken();this.signIn(e)}else k.A.fire({icon:"error",title:"登入失敗，權限不足"})}catch(a){k.A.fire({icon:"error",title:"登入失敗，帳號或密碼輸入錯誤"})}},signIn(e){const t="https://fullstack-ecommerce-pojui-backend-vercel.vercel.app/admin/signin";this.$http.post(t,{idToken:e}).then((e=>{if(e.data.success){k.A.fire({icon:"success",title:"登入成功"}),this.$refs.form.reset();const{token:t,expired:a}=e.data;document.cookie=`customToken=${t}; expires=${new Date(a)}`,this.$router.push("/dashboard/products")}else k.A.fire({icon:"error",title:"登入失敗，帳號或密碼輸入錯誤"})})).catch((e=>{console.log(e.response.data)}))}}},S=a(6262);const w=(0,S.A)(C,[["render",g],["__scopeId","data-v-01c06361"]]);var x=w},129:function(e,t,a){a.d(t,{y:function(){return g}});var n=a(641),r=a(3007),s=a(6861),i=a(8517),l=a(5851),o=a(62),u=a(8107),d=a(5501),c=a(8021),p=a(1070),f=a(5841),v=a(2997),m=a(1094),b=a(2636),h=a(4675);const y=(0,m.j)({start:Boolean,end:Boolean,icon:u.TX,image:String,text:String,...(0,l.u)(),...(0,o.r)(),...(0,d.S)(),...(0,c.k)(),...(0,p.X)(),...(0,f.yx)(),...(0,v.gI)({variant:"flat"})},"VAvatar"),g=(0,b.RW)()({name:"VAvatar",props:y(),setup(e,t){let{slots:a}=t;const{themeClasses:l}=(0,f.NX)(e),{colorClasses:u,colorStyles:p,variantClasses:m}=(0,v.rn)(e),{densityClasses:b}=(0,o.Q)(e),{roundedClasses:y}=(0,d.v)(e),{sizeClasses:g,sizeStyles:k}=(0,c.X)(e);return(0,h.C)((()=>(0,n.bF)(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},l.value,u.value,b.value,y.value,g.value,m.value,e.class],style:[p.value,k.value,e.style]},{default:()=>[a.default?(0,n.bF)(r.K,{key:"content-defaults",defaults:{VImg:{cover:!0,image:e.image},VIcon:{icon:e.icon}}},{default:()=>[a.default()]}):e.image?(0,n.bF)(i.y,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?(0,n.bF)(s.w,{key:"icon",icon:e.icon},null):e.text,(0,v.wN)(!1,"v-avatar")]}))),{}}})},4272:function(e,t,a){a.d(t,{J:function(){return X}});var n=a(641),r=a(1332),s=a(2579),i=a(9311),l=a(129),o=a(3007),u=a(6861),d=a(5851),c=a(62),p=a(8107),f=a(1094),v=a(2636),m=a(4675);const b=(0,f.j)({appendAvatar:String,appendIcon:p.TX,prependAvatar:String,prependIcon:p.TX,subtitle:[String,Number],title:[String,Number],...(0,d.u)(),...(0,c.r)()},"VCardItem"),h=(0,v.RW)()({name:"VCardItem",props:b(),setup(e,t){let{slots:a}=t;return(0,m.C)((()=>{const t=!(!e.prependAvatar&&!e.prependIcon),r=!(!t&&!a.prepend),d=!(!e.appendAvatar&&!e.appendIcon),c=!(!d&&!a.append),p=!(null==e.title&&!a.title),f=!(null==e.subtitle&&!a.subtitle);return(0,n.bF)("div",{class:["v-card-item",e.class],style:e.style},[r&&(0,n.bF)("div",{key:"prepend",class:"v-card-item__prepend"},[a.prepend?(0,n.bF)(o.K,{key:"prepend-defaults",disabled:!t,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},a.prepend):(0,n.bF)(n.FK,null,[e.prependAvatar&&(0,n.bF)(l.y,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&(0,n.bF)(u.w,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),(0,n.bF)("div",{class:"v-card-item__content"},[p&&(0,n.bF)(i.r,{key:"title"},{default:()=>[a.title?.()??e.title]}),f&&(0,n.bF)(s.Z,{key:"subtitle"},{default:()=>[a.subtitle?.()??e.subtitle]}),a.default?.()]),c&&(0,n.bF)("div",{key:"append",class:"v-card-item__append"},[a.append?(0,n.bF)(o.K,{key:"append-defaults",disabled:!d,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},a.append):(0,n.bF)(n.FK,null,[e.appendIcon&&(0,n.bF)(u.w,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&(0,n.bF)(l.y,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])])})),{}}});var y=a(2082),g=a(8517),k=a(1348),F=a(6217),I=a(19),C=a(1679),S=a(3619),w=a(8311),x=a(5501),A=a(9369),V=a(1070),_=a(5841),W=a(2997),R=a(2651);const j=(0,f.j)({appendAvatar:String,appendIcon:p.TX,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:p.TX,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...(0,k.r)(),...(0,d.u)(),...(0,c.r)(),...(0,F.X)(),...(0,I.s)(),...(0,C.gi)(),...(0,S.M)(),...(0,w.S)(),...(0,x.S)(),...(0,A.WC)(),...(0,V.X)(),...(0,_.yx)(),...(0,W.gI)({variant:"elevated"})},"VCard"),X=(0,v.RW)()({name:"VCard",directives:{Ripple:R.n},props:j(),setup(e,t){let{attrs:a,slots:s}=t;const{themeClasses:i}=(0,_.NX)(e),{borderClasses:l}=(0,k.M)(e),{colorClasses:u,colorStyles:d,variantClasses:p}=(0,W.rn)(e),{densityClasses:f}=(0,c.Q)(e),{dimensionStyles:v}=(0,F.S)(e),{elevationClasses:b}=(0,I.j)(e),{loaderClasses:V}=(0,C.pn)(e),{locationStyles:R}=(0,S.z)(e),{positionClasses:j}=(0,w.J)(e),{roundedClasses:X}=(0,x.v)(e),$=(0,A.iE)(e,a),B=(0,n.EW)((()=>!1!==e.link&&$.isLink.value)),T=(0,n.EW)((()=>!e.disabled&&!1!==e.link&&(e.link||$.isClickable.value)));return(0,m.C)((()=>{const t=B.value?"a":e.tag,a=!(!s.title&&null==e.title),c=!(!s.subtitle&&null==e.subtitle),m=a||c,k=!!(s.append||e.appendAvatar||e.appendIcon),F=!!(s.prepend||e.prependAvatar||e.prependIcon),I=!(!s.image&&!e.image),S=m||F||k,w=!(!s.text&&null==e.text);return(0,n.bo)((0,n.bF)(t,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":T.value},i.value,l.value,u.value,f.value,b.value,V.value,j.value,X.value,p.value,e.class],style:[d.value,v.value,R.value,e.style],href:$.href.value,onClick:T.value&&$.navigate,tabindex:e.disabled?-1:void 0},{default:()=>[I&&(0,n.bF)("div",{key:"image",class:"v-card__image"},[s.image?(0,n.bF)(o.K,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},s.image):(0,n.bF)(g.y,{key:"image-img",cover:!0,src:e.image},null)]),(0,n.bF)(C.E2,{name:"v-card",active:!!e.loading,color:"boolean"===typeof e.loading?void 0:e.loading},{default:s.loader}),S&&(0,n.bF)(h,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:s.item,prepend:s.prepend,title:s.title,subtitle:s.subtitle,append:s.append}),w&&(0,n.bF)(y.O,{key:"text"},{default:()=>[s.text?.()??e.text]}),s.default?.(),s.actions&&(0,n.bF)(r.S,null,{default:s.actions}),(0,W.wN)(T.value,"v-card")]}),[[(0,n.gN)("ripple"),T.value&&e.ripple]])})),{}}})},1332:function(e,t,a){a.d(t,{S:function(){return o}});var n=a(641),r=a(5851),s=a(7562),i=a(2636),l=a(4675);const o=(0,i.RW)()({name:"VCardActions",props:(0,r.u)(),setup(e,t){let{slots:a}=t;return(0,s.Uh)({VBtn:{slim:!0,variant:"text"}}),(0,l.C)((()=>(0,n.bF)("div",{class:["v-card-actions",e.class],style:e.style},[a.default?.()]))),{}}})},2579:function(e,t,a){a.d(t,{Z:function(){return d}});var n=a(641),r=a(5851),s=a(1070),i=a(1094),l=a(2636),o=a(4675);const u=(0,i.j)({opacity:[Number,String],...(0,r.u)(),...(0,s.X)()},"VCardSubtitle"),d=(0,l.RW)()({name:"VCardSubtitle",props:u(),setup(e,t){let{slots:a}=t;return(0,o.C)((()=>(0,n.bF)(e.tag,{class:["v-card-subtitle",e.class],style:[{"--v-card-subtitle-opacity":e.opacity},e.style]},a))),{}}})},2082:function(e,t,a){a.d(t,{O:function(){return d}});var n=a(641),r=a(5851),s=a(1070),i=a(1094),l=a(2636),o=a(4675);const u=(0,i.j)({opacity:[Number,String],...(0,r.u)(),...(0,s.X)()},"VCardText"),d=(0,l.RW)()({name:"VCardText",props:u(),setup(e,t){let{slots:a}=t;return(0,o.C)((()=>(0,n.bF)(e.tag,{class:["v-card-text",e.class],style:[{"--v-card-text-opacity":e.opacity},e.style]},a))),{}}})},9311:function(e,t,a){a.d(t,{r:function(){return r}});var n=a(4019);const r=(0,n.G)("v-card-title")},7027:function(e,t,a){a.d(t,{n:function(){return p}});var n=a(641),r=a(5851),s=a(5596),i=a(9823),l=a(9841),o=a(1094),u=a(2636),d=a(4675);const c=(0,o.j)({...(0,r.u)(),...(0,s.pE)()},"VForm"),p=(0,u.RW)()({name:"VForm",props:c(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:a,emit:r}=t;const o=(0,s.DG)(e),u=(0,l.KR)();function c(e){e.preventDefault(),o.reset()}function p(e){const t=e,a=o.validate();t.then=a.then.bind(a),t.catch=a.catch.bind(a),t.finally=a.finally.bind(a),r("submit",t),t.defaultPrevented||a.then((e=>{let{valid:t}=e;t&&u.value?.submit()})),t.preventDefault()}return(0,d.C)((()=>(0,n.bF)("form",{ref:u,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:c,onSubmit:p},[a.default?.(o)]))),(0,i.O)(o,u)}})},9823:function(e,t,a){a.d(t,{O:function(){return s}});const n=Symbol("Forwarded refs");function r(e,t){let a=e;while(a){const e=Reflect.getOwnPropertyDescriptor(a,t);if(e)return e;a=Object.getPrototypeOf(a)}}function s(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++)a[s-1]=arguments[s];return e[n]=a,new Proxy(e,{get(e,t){if(Reflect.has(e,t))return Reflect.get(e,t);if("symbol"!==typeof t&&!t.startsWith("$")&&!t.startsWith("__"))for(const n of a)if(n.value&&Reflect.has(n.value,t)){const e=Reflect.get(n.value,t);return"function"===typeof e?e.bind(n.value):e}},has(e,t){if(Reflect.has(e,t))return!0;if("symbol"===typeof t||t.startsWith("$")||t.startsWith("__"))return!1;for(const n of a)if(n.value&&Reflect.has(n.value,t))return!0;return!1},set(e,t,n){if(Reflect.has(e,t))return Reflect.set(e,t,n);if("symbol"===typeof t||t.startsWith("$")||t.startsWith("__"))return!1;for(const r of a)if(r.value&&Reflect.has(r.value,t))return Reflect.set(r.value,t,n);return!1},getOwnPropertyDescriptor(e,t){const s=Reflect.getOwnPropertyDescriptor(e,t);if(s)return s;if("symbol"!==typeof t&&!t.startsWith("$")&&!t.startsWith("__")){for(const e of a){if(!e.value)continue;const a=r(e.value,t)??("_"in e.value?r(e.value._?.setupState,t):void 0);if(a)return a}for(const e of a){const a=e.value&&e.value[n];if(!a)continue;const s=a.slice();while(s.length){const e=s.shift(),a=r(e.value,t);if(a)return a;const i=e.value&&e.value[n];i&&s.push(...i)}}}}})}},6535:function(e,t,a){a.d(t,{P:function(){return r},i:function(){return s}});var n=a(6557);function r(e){const t=e.getBoundingClientRect(),a=getComputedStyle(e),r=a.transform;if(r){let s,i,l,o,u;if(r.startsWith("matrix3d("))s=r.slice(9,-1).split(/, /),i=+s[0],l=+s[5],o=+s[12],u=+s[13];else{if(!r.startsWith("matrix("))return new n.az(t);s=r.slice(7,-1).split(/, /),i=+s[0],l=+s[3],o=+s[4],u=+s[5]}const d=a.transformOrigin,c=t.x-o-(1-i)*parseFloat(d),p=t.y-u-(1-l)*parseFloat(d.slice(d.indexOf(" ")+1)),f=i?t.width/i:e.offsetWidth+1,v=l?t.height/l:e.offsetHeight+1;return new n.az({x:c,y:p,width:f,height:v})}return new n.az(t)}function s(e,t,a){if("undefined"===typeof e.animate)return{finished:Promise.resolve()};let n;try{n=e.animate(t,a)}catch(r){return{finished:Promise.resolve()}}return"undefined"===typeof n.finished&&(n.finished=new Promise((e=>{n.onfinish=()=>{e(n)}}))),n}},6557:function(e,t,a){a.d(t,{Li:function(){return s},az:function(){return n},vJ:function(){return r}});class n{constructor(e){let{x:t,y:a,width:n,height:r}=e;this.x=t,this.y=a,this.width=n,this.height=r}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function r(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function s(e){return Array.isArray(e)?new n({x:e[0],y:e[1],width:0,height:0}):e.getBoundingClientRect()}},4019:function(e,t,a){a.d(t,{G:function(){return l}});var n=a(5851),r=a(2644),s=a(641),i=a(2636);function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div",a=arguments.length>2?arguments[2]:void 0;return(0,i.RW)()({name:a??(0,r.ZH)((0,r.PT)(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t},...(0,n.u)()},setup(t,a){let{slots:n}=a;return()=>(0,s.h)(t.tag,{class:[e,t.class],style:t.style},n.default?.())}})}},265:function(e,t,a){a.d(t,{B2:function(){return n},S8:function(){return r},z3:function(){return s}});const n="cubic-bezier(0.4, 0, 0.2, 1)",r="cubic-bezier(0.0, 0, 0.2, 1)",s="cubic-bezier(0.4, 0, 1, 1)"}}]);
//# sourceMappingURL=183.bdefb295.js.map